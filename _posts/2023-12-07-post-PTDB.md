---
title: "PenTestDB: What is it?"
permalink: /what-is-ptdb/
date: 2023-12-7
categories:
  - Tools
  - Project Updates
tags:
  - Tools
  - Projects
---
PenTestDB (PTDB for short) is a project that aims to save time on Penetration testing engagements and CTFs by automatically parsing data from common pentesting commands and adding it to an SQL database. I Wrote this tool initially to make my own life easier, but I thought it might help others too so I decided to write this blog post.  

## Index
1. [PenTestDB What is it?](#pentestdb-what-is-it)
2. [Who is PTDB For?](#who-is-ptdb-for)
3. [Use case](#use-case)
4. [How does PTDB Work?](#how-does-ptdb-work)
5. [Demo](#demo)
6. [Advantages Over Alternatives](#advantages-over-alternatives)

## Who is PTDB For?
PenTestDB is designed for professional Penetration Testers, hobbyist CTF players, and Hackers.

## Use Case
Any time where one needs to collect larges amounts of data about a target, PenTestDB is a huge time saver. The more targets -- or more data -- the more helpful PTDB will be.

## How Does PTDB Work?
PTDB makes use of an old \*NIX program called "[script](https://en.wikipedia.org/wiki/Script_(Unix))" to record all the output of all commands in a terminal session to a file. The content of this file gets piped into PTDB and parsed after every command finishes. The parsed data then gets sent to the database where it can be queried for later.

PTDB is configured in the `~/.config/ptdb/config.toml` file. There you can set things like what parsers are used to parse what command, or what targets can be queried from using the CLI.

# Demo
<img alt="PTDB Demo Gif" src="/assets/images/ptdb-demo.gif" width="600" />

In the above GIF we see the query `ptdb query -g ip port state -f ports` returning nothing as nothing has been added to the database, then an nmap scan followed by the same query again, this time returning the data from the nmap scan. PTDB in action! ￼￼Advantages Over Alternatives
The only tool I know of with a similar feature set is ￼￼Metasploit￼￼￼￼￼￼￼￼￼. The similarities that ￼￼Metasploit￼￼￼￼￼￼￼￼￼ and PenTestDB share is that they automatically store the results of programmatic scans in a database. The key difference however is that while ￼￼Metasploit￼￼￼￼￼￼￼￼￼ is an entire framework -- a rather heavy one in fact -- it doesn't play nice with outside tools. What I mean by this is that, while one can use outside tools (￼￼nmap￼￼￼￼￼￼￼￼￼, ￼￼john￼￼￼￼￼￼￼￼￼, ￼￼gobuster￼￼￼￼￼￼￼￼￼, etc) in ￼￼Metasploit￼￼￼￼￼￼￼￼￼, it won't store the generated data in it's database. PenTestDB on the other hand, is designed from the ground up to work with outside tools. It in fact, only works, with outside tools; and has no scanning capabilities of its own. The intention behind this was to be inline with the ￼￼UNIX philosophy￼￼￼￼￼￼￼￼￼ of programs doing one thing and only one thing, and doing that one thing well. After all, why make yet another directory brute-forceing tool when we can make use of ￼￼gobuster￼￼￼￼￼￼￼￼￼ or ￼￼feroxbuster￼￼￼￼￼￼￼￼￼ then store the scan data in a database? Ultimately ￼￼Metasploit￼￼￼￼￼￼￼￼￼ and PTDB have different goals and are designed for different workflows.

Really The only ￼￼real￼￼ alternative to PTDB is painstakingly taking notes by hand and copying and pasting all command output into said notes. While taking notes by hand should ￼￼always￼￼ be done in conjunction with PenTestDB; PTDB offers a convenient way to automate the parsing and storage of the output generated by some common pentesting command. It ￼￼does not replace￼￼ taking notes and screenshots. It ￼￼does￼￼ allows for the collection and storage of large amounts of data much of which might otherwise be lost or forgotten.

Unfortunately the program I used to generate the GIF above, [VHS](https://github.com/charmbracelet/vhs), did not play nice with my nerd-font :(

## Advantages Over Alternatives
The only tool I know of with a similar feature set is [Metasploit](https://www.metasploit.com/). The similarities that [Metasploit](https://www.metasploit.com/) and PenTestDB share is that they both automatically store the results of programmatic scans in a database. The key difference however is that while [Metasploit](https://www.metasploit.com/) is an entire framework -- a rather heavy one in fact -- it doesn't play nice with outside tools. What I mean by this is that, while one can use outside tools ([nmap](https://nmap.org/), [john](https://www.openwall.com/john/), [gobuster](https://github.com/OJ/gobuster), etc) in [Metasploit](https://www.metasploit.com/), it won't store the generated data in its database. PenTestDB, on the other hand, is designed from the ground up to work with outside tools. It in fact only works with outside tools - it has no scanning/hacking capabilities of its own. The intention behind this was to be inline with the [UNIX philosophy](https://en.wikipedia.org/wiki/Unix_philosophy) of programs doing only one thing, and doing that one thing well. After all, why make yet another directory brute-forceing tool when we can make use of [gobuster](https://github.com/OJ/gobuster) or [feroxbuster](https://github.com/epi052/feroxbuster)? Ultimately [Metasploit](https://www.metasploit.com/) and PTDB have different goals and are designed for different workflows.

Really the only *true* alternative to PTDB is to painstakingly copy and paste all command output into your notes. While taking notes by hand should *always* be done in conjunction with PenTestDB, PTDB offers a convenient way to automate the parsing and storage of the output generated by some common pentesting tools. It **does not replace** taking good, descriptive notes and screenshots. It **does** allow for the collection and storage of large amounts of data, much of which might otherwise be lost or forgotten.

## References:
1. [GitHub repo for PTDB](https://github.com/calacuda/PenTestDB).
2. [Wiki for PTDB](https://github.com/calacuda/PenTestDB/wiki).
3. [VHS](https://github.com/charmbracelet/vhs), a program for generating GIFs of the terminal. 