---
title: "PenTestDB: What is it?"
permalink: /what-is-ptdb/
date: 2023-12-07
categories:
  - Tools
  - Project Updates
tags:
  - Tools
  - Projects
updated: 2023-12-08
---
PenTestDB (PTDB for short) is a project that aims to save time on Penetration testing engagements and CTFs by automatically parsing data from common pentesting commands and adding it to an SQL database. I wrote this tool initially to make my own life easier, but when I realized it might help others too so I decided to write this blog post to introduces it :).  

## Index
1. [PenTestDB What is it?](#pentestdb-what-is-it)
2. [Who is PTDB For?](#who-is-ptdb-for)
3. [Use case](#use-case)
4. [How does PTDB Work?](#how-does-ptdb-work)
5. [Demo](#demo)
6. [Advantages Over Alternatives](#advantages-over-alternatives)

## Who is PTDB For?
PenTestDB is designed for professional Penetration Testers, hobbyist CTF players, and Hackers.

## Use Case
Any time where one needs to collect larges amounts of data about a target, PenTestDB is a huge time saver. The more targets -- or more data -- the more helpful PTDB will be.

## How Does PTDB Work?
PTDB makes use of an old \*NIX program called "[script](https://en.wikipedia.org/wiki/Script_(Unix))" to record all the output of all commands in a terminal session to a file. The content of this file gets piped into PTDB and parsed after every command finishes. The parsed data then gets sent to the database where it can be queried for later.

PTDB is configured in the `~/.config/ptdb/config.toml` file. There you can set things like what parsers are used to parse what command, or what targets can be queried from using the CLI.

# Demo
<img alt="PTDB Demo Gif" src="/assets/images/ptdb-demo.gif" width="600" />

	Note: Unfortunately the program I used to generate the GIF above, [VHS](https://github.com/charmbracelet/vhs), did not play nice with my nerd-font :(

In the above GIF we see the query `ptdb query -g ip port state -f ports` returning nothing as nothing has been added to the database, then an [nmap](https://nmap.org/) scan followed by the same query again, this time returning the data from the [nmap](https://nmap.org/) scan. PTDB in action! 

## Advantages Over Alternatives
The only tool I know of with a similar feature set is [Metasploit](https://www.metasploit.com/). The similarities that [Metasploit](https://www.metasploit.com/) and PenTestDB share is that they both automatically store the results of programmatic scans in a database. The key difference however is that while [Metasploit](https://www.metasploit.com/) is an entire framework -- a rather heavy one in fact -- it doesn't play nice with outside tools. What I mean by this is that, while one can use outside tools ([nmap](https://nmap.org/), [john](https://www.openwall.com/john/), [gobuster](https://github.com/OJ/gobuster), etc) in [Metasploit](https://www.metasploit.com/), it won't store the generated data in its database. PenTestDB, on the other hand, is designed from the ground up to work with outside tools. It in fact only works with outside tools - it has no scanning/hacking capabilities of its own. The intention behind this was to be inline with the [UNIX philosophy](https://en.wikipedia.org/wiki/Unix_philosophy) of programs doing only one thing, and doing that one thing well. After all, why make yet another directory brute-forceing tool when we can make use of [gobuster](https://github.com/OJ/gobuster) or [feroxbuster](https://github.com/epi052/feroxbuster)? Why make yet another port scanning tool when we can make use of [Nmap](https://nmap.org/) or [RustScan](https://github.com/RustScan/RustScan)? Why make yet another network authentication tool when we can make use of [Hydra](https://github.com/vanhauser-thc/thc-hydra)? Ultimately [Metasploit](https://www.metasploit.com/) and PTDB have different goals and are designed for different workflows.

So really, the only *true* alternative to PTDB is to painstakingly copy and paste *all* command output into your notes, which clutters up notes making them harder to read. While taking notes by hand should *always* be done in conjunction with PenTestDB, PTDB offers a convenient way to automate the storage of the output generated by some common pentesting tools. It **does not replace** taking good, descriptive notes and screenshots. It **does** allow for the collection and storage of large amounts of data, much of which might otherwise be lost or forgotten.

<br>

I look forward to seeing you in cyber-space:

\- Eoghan West (Calacuda)

<hr style="text-align:center">
## References:
1. [PTDB](https://github.com/calacuda/PenTestDB) GitHub repository for ptdb.
2. [Wiki for PTDB](https://github.com/calacuda/PenTestDB/wiki).
3. [VHS](https://github.com/charmbracelet/vhs), used to generating GIFs of the terminal.
4. [Script](https://en.wikipedia.org/wiki/Script_(Unix)) records all text from a terminal session.
5. [Nmap](https://nmap.org/) classic port scanner.
6. [Metasploit](https://www.metasploit.com/) a full pentesting framework.
7. [John the ripper](https://www.openwall.com/john/) password cracking utility.
8. [Gobuster](https://github.com/OJ/gobuster) brute-forcing/busting tool for Directories/Files, DNS entries and VHosts.
9. [UNIX philosophy](https://en.wikipedia.org/wiki/Unix_philosophy) a philosophy about program design and implementation. 
10. [Feroxbuster](https://github.com/epi052/feroxbuster) tool to scan web servers for directories and files recursively.
11. [Hydra](https://github.com/vanhauser-thc/thc-hydra) network protocol password authentication brute-forcing tool.